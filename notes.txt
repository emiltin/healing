

when you run cloud start locally:
the clouds.rb file is read
cloud object structure now has all info, including number of nodes, and provider
nodes are launched
nodes are bootstrapped
files are uploaded
clouds.rb are run on the nodes




somehow the nodes need to know what cloud they're in. they need an identity. is someone going to tell them? or should they decide themselves?






clouds.rb describe the cloud. it can be read on the host to provision and bootstrap the cloud. it can also be read on the node to do the actual configuration. this requires that the node knows what subcloud it's in.


what happens when the names of the clouds change - how does nodes know what cloud they belong to then?


cloud - subclouds


each cloud has a uuid, which is set by the user, and should not be changed.
when launching nodes, the uuid is stored on the nodes. that way each node can read clouds.rb and know what cloud it belongs to.
all nodes in a cloud are configured exactly similarly. if a special node is neeed, it should be in it's own sub cloud.

launch nodes
bootstrap
store cloud uuid
push clouds.rb
configure


a recipe folder is also pushed, so individual recipes can be run on a specific cloud.


